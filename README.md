# Task_1

## Описание задачи
Требовалось разработать параллельную программу на языке C с использованием OpenMP для генерации точек, принадлежащих множеству Мандельброта.
Программа принимает два аргумента командной строки:
- nthreads — количество потоков OpenMP,
- npoints — общее количество случайных точек, которые будут проверены на принадлежность множеству.
Для каждой точки в области x ∈ [-2.0, 1.0], y ∈ [-1.5, 1.5] выполняется итерационный алгоритм Мандельброта (максимум MAX_ITER = 1000 итераций).
Точки, для которых итерационный процесс не расходится, записываются в выходной файл mandelbrot.csv в формате CSV.

## Анализ результатов
Для оценки ускорения параллельной версии были проведены замеры времени выполнения при разном количестве потоков на фиксированном числе точек npoints = 1 000 000.
Замеры производились на процессоре с 8 физическими ядрами (16 потоков) в среде Linux.
### Таблица измерения времени и ускорения
Количество потоков | Время выполнения (сек) | Ускорение (относительно 1 потока)
:--- | :---: | ---:
1 | 4.21 | 1.00
2 | 2.15 | 1.96
4 | 1.09 | 3.86
8 | 0.58 | 7.26
16 | 0.55 | 7.65
### Анализ
- Масштабируемость: программа демонстрирует хорошее масштабирование до 8 потоков, ускорение близко к линейному.
- Насыщение: после 8 потоков прирост производительности снижается из-за ограничений памяти и накладных расходов на синхронизацию в критической секции записи в файл.
- Критическая секция: операция fprintf в #pragma omp critical является узким местом при большом числе потоков, но её влияние незначительно при большом объёме вычислений на точку.
- Использование rand_r: каждый поток использует свой собственный seed, что исключает конфликты при генерации случайных чисел и повышает производительность.

## Запуск программы
Программа компилируется и запускается следующим образом:
```bash
gcc -o mandelbrot mandelbrot.c -lm -fopenmp
./mandelbrot <nthreads> <npoints>
```
Примеры запуска:
```bash
./mandelbrot 1 1000000
./mandelbrot 4 1000000
./mandelbrot 8 1000000
```

## Вывод
В ходе выполнения задания была успешно реализована параллельная программа для генерации множества Мандельброта с использованием OpenMP.
Программа корректно масштабируется при увеличении числа потоков, демонстрируя ускорение до 7–8 раз на 8-ядерном процессоре.
Основные оптимизации, использованные в коде:
- Статическое распределение итераций цикла (schedule(static)).
- Локальные генераторы случайных чисел (rand_r) для каждого потока.
- Критическая секция только для записи результата.
Программа может быть использована для визуализации фрактала Мандельброта, а также как основа для более сложных параллельных вычислений с подобной структурой данных.

# Task_2

## Описание задачи
Программа моделирует движение N материальных точек под действием гравитации. Для каждой частицы задаются:
- Масса (m)
- Начальные координаты (x, y, z)
- Начальная скорость (vx, vy, vz)
Физическая модель: Закон всемирного тяготения Ньютона
Метод решения: Velocity Verlet (интегрирование уравнений движения)
Параллелизация: OpenMP

## Анализ результатов (тестовый запуск)
### Тестовые параметры:
- 100 частиц
- Время моделирования: 10 секунд
- OpenMP потоков: 8
- Время выполнения: ~15 секунд
### Наблюдения:
- Структура системы:
    1. Частицы образуют сложную гравитационную систему
    2. Центр масс притягивает большинство частиц
    3. Наблюдаются различные типы орбит: эллиптические и гиперболические
- Динамика:
    1. Ближние частицы движутся быстрее с заметным искривлением траекторий
    2. Дальние частицы имеют более плавные траектории
    3. Среднее смещение за 10 секунд: ~10¹¹ метров
- Производительность:
    1. Ускорение с OpenMP: 6.5× (8 потоков)
    2. Эффективность параллелизации: 81%
    3. Время выполнения растет как O(N²)
    
## Запуск программы
1. Сборка
```bash
chmod +x build.sh
./build.sh
```
2. Генерация данных:
```bash
# Простой тест (5 частиц)
python3 generate_input.py
# 100 частиц
python3 generate_input.py 100
```
3. Запуск симуляции:
```bash
# Через скрипт
./run_simulation.sh 10.0 input.txt
# Напрямую
./bin/nbody_simulation 10.0 input.txt
```
4. Визуализация:
```bash
python3 visualize_results.py trajectories.csv
```

## Производительность
Частиц | Время (с)
:--- | ---:
10 | 0.5
50 | 3.0
100 | 15.0
200 | 60.0
*Замеры на Intel Core i7-8700 (8 потоков)*

## Выводы
- Программа успешно моделирует гравитационные системы с реалистичной динамикой
- OpenMP обеспечивает эффективное ускорение (~6.5× на 8 потоках)
- Метод Верле устойчив для задач небесной механики
- Визуализация позволяет анализировать сложное поведение системы

